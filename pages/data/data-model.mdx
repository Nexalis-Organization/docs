# Data Model

The **Nexalis Data Model** provides a standardized structure for accessing and analyzing industrial data across different asset types.

When exploring Nexalis data, you will have access to two core standardized tables:

- `gold_<user_name>_avg_std` — aggregated data in configurable intervals.
- `gold_<user_name>_hf_std` — high-frequency raw and standardized data.

Both contain raw and standardized device data, but differ in **frequency, aggregation,** and whether **discrete tags** (booleans, enumerations) are included.

---

## Comparison of Tables

| Table Name                 | Data Frequency                          | Aggregation                    | Includes Discrete Tags | Best For |
|-----------------------------|------------------------------------------|--------------------------------|------------------------|----------|
| `gold_<user_name>_avg_std` | X-minute intervals (per-agent configurable) | Aggregated (min, max, avg, count) | ❌ No                 | Trend analysis, reporting, standardized analog data |
| `gold_<user_name>_hf_std`  | High frequency (per-second raw data)     | None (raw values)              | ✅ Yes                | AI/ML, Alarms, troubleshooting  |

---

## Column Groups

Most columns are shared across both tables, but there are some differences.

### Device Metadata (✅ Both tables)
- **siteName** — site where the device is located  
- **deviceModel** — manufacturer and model  
- **deviceID** — unique identifier of the device  
- **subDeviceID** — distinguishes devices when connected via proxy/gateway  
- **assetName** — concatenation of deviceID + subDeviceID  
- **protocol** — communication protocol used  

### Standardization Fields (✅ Both tables; empty if not standardized)
- **assetType** — standardized type of device (e.g., inverter, meter)  
- **logicalNode** — standardized function type (e.g., DC Measurements)  
- **dataObject** — standardized tag (e.g., phase voltage)  
- **subDataObject** — finer breakdown (e.g., phase A)  
- **engUnits** — standardized engineering units  
- **measurementType** — tag description (Analog vs Discrete)  

### Data Values
- **dataPoint** — ✅ Both tables; device-specific identifier  
- **value** — ✅ Both tables;  
  - `gold_<user_name>_avg_std`: averaged value per interval  
  - `gold_<user_name>_hf_std`: raw high-frequency reading  
- **min, max, count** — ✅ Only in `gold_<user_name>_avg_std`  
- **description** — ✅ Both tables; manufacturer-provided description  
- **qualitySource** — ✅ Both tables; quality indicator  
- **triggerType** — agent configuration for sending data  
- **metaData** — ✅ Both tables; additional protocol parameters  

### Timestamps (✅ Both tables)
- **tsConnector** — epoch (ms) when collected  
- **dtConnector** — human-readable equivalent  
- **tsReception** — when sent to cloud  
- **tsSource** — timestamp directly from device  

### Unique Identifier (✅ Both tables)
- **uniqueTagID** — concatenation of key fields → globally unique datapoint ID  

---

## Notes

- **Raw tags** → standardization columns remain empty (`assetType`, `logicalNode`, `dataObject`, `subDataObject`, `engUnits`, and `measurementType`).  
- **Filter standardized only** → use query: `dataObject != null`.  
- **`gold_<user_name>_avg_std`** → interval configurable per-agent. Best for trend analysis but does not include booleans/enumerations.  
- **`gold_<user_name>_hf_std`** → includes booleans/enumerations. Best for real-time monitoring and troubleshooting.  

